
\chapter{Quickie Corner}

Following on from the resounding success\footnote{By which I mean, nobody complained!}
of last issue's Quickie Corner in which we found the fastest method
of clearing a register to zero, this time we look at finding the quickest
way to tell if a data register is zero, or not.

\section{It's All About Nothing!}

What's the fastest way to check if a data register is zero? The timings
are taken from the Motorola Semiconductor's MC68000 Programmers Reference
Guide, 4th Edition, Appendix E.

Table \ref{tab:Checking-a-data-register-for-zero} shows a few instructions
which can either test a data register for zero, or, cause the \texttt{Z}
flag to be set if zero, and their timings.
\begin{itemize}
\item \texttt{Dn} is the data register in question.
\item \texttt{Dz} is a data register containing zero.
\item \texttt{Dy} is ``just another data register''
\end{itemize}
\begin{table}[!h]
\begin{centering}
\begin{tabular}{|c|c|}
\hline 
\textbf{Instruction} & \textbf{Clock Cycles}\tabularnewline
\hline 
\hline 
CMPI.L \#0,Dn & 12\tabularnewline
\hline 
CMP.L Dn,Dz & 6\tabularnewline
\hline 
\textbf{TST.L Dn} & \textbf{4}\tabularnewline
\hline 
ORI.L \#0,Dn & 14\tabularnewline
\hline 
OR.L Dn,Dn & 22\tabularnewline
\hline 
ANDI.L Dn,Dn & 14\tabularnewline
\hline 
AND.L Dn,Dn & 22\tabularnewline
\hline 
MOVE.L Dn,Dy & 4\tabularnewline
\hline 
NEG.L Dn & 6\tabularnewline
\hline 
ADDQ.L \#0,Dn & 8\tabularnewline
\hline 
ADDI.L \#0,Dn & 14\tabularnewline
\hline 
ADD.L Dz,Dn & 6\tabularnewline
\hline 
SUBI.L \#0,Dn & 14\tabularnewline
\hline 
SUB.L Dz,Dn & 6\tabularnewline
\hline 
SUBQ.L \#0,Dn & 8\tabularnewline
\hline 
\end{tabular}
\par\end{centering}
\caption{Checking a data register for zero\label{tab:Checking-a-data-register-for-zero}}

\end{table}

It appears that \texttt{TST.L Dn} is the quickest at 4 clock cycles,
closely followed by \texttt{CMP.L Dn,Dz}, \texttt{NEG.L Dn}, \texttt{ADD.L
Dz,Dn} and \texttt{SUB.L Dz,Dn} all at 6 clocks.
