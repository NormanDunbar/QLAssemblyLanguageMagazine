%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% The Legrand Orange Book
% LaTeX Template
% Version 2.0 (9/2/15)
%
% This template has been downloaded from:
% http://www.LaTeXTemplates.com
%
% Mathias Legrand (legrand.mathias@gmail.com) with modifications by:
% Vel (vel@latextemplates.com)
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%
% Compiling this template:
% This template uses biber for its bibliography and makeindex for its index.
% When you first open the template, compile it from the command line with the 
% commands below to make sure your LaTeX distribution is configured correctly:
%
% 1) pdflatex main
% 2) makeindex main.idx -s StyleInd.ist
% 3) biber main
% 4) pdflatex main x 2
%
% After this, when you wish to update the bibliography/index use the appropriate
% command above and make sure to compile with pdflatex several times 
% afterwards to propagate your changes to the document.
%
% This template also uses a number of packages which may need to be
% updated to the newest versions for the template to compile. It is strongly
% recommended you update your LaTeX distribution if you have any
% compilation errors.
%
% Important note:
% Chapter heading images should have a 2:1 width:height ratio,
% e.g. 920px width and 460px height.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

\documentclass[11pt,fleqn]{book} % Default font size and left-justified equations

%----------------------------------------------------------------------------------------
\input{../Common/structure} % Insert the structure.tex file which contains the majority of the structure behind the template


%----------------------------------------------------------------------------------------
%	INDEXING and Other Macros. NDunbar.
%----------------------------------------------------------------------------------------

% These need to be used with the text twice, as in:
% The best text processing system is \latex\program{\latex} ...
\DeclareRobustCommand{\program}[1]{\index{Programs and applications!#1}}
\DeclareRobustCommand{\mc6800x}[1]{\index{MC6800x Instructions!#1}}
\DeclareRobustCommand{\address}[1]{\index{Addressing Modes!#1}}

% These generate the text in the main body in teletype mode as well as 
% adding them to the index:
% Use \vector(BP\_INIT} to link new functions to SuperBasic.
\DeclareRobustCommand{\vector}[1]{\texttt{#1}\index{Vectored Utilities!#1}}
\DeclareRobustCommand{\trap}[1]{\texttt{#1}\index{Trap Calls!#1}}
\DeclareRobustCommand{\pe}[1]{\texttt{#1}\index{Pointer Environment Vectors!#1}}

% These generate text in a certain style, see the actual command for details,
% when used. These do not get indexed.
\DeclareRobustCommand{\opcode}[1]{\texttt{#1}}


%----------------------------------------------------------------------------------------
% NDunbar: Put your PDF details here ....
%
% These will be copied to the title page, where required, and also into the
% PDF file's properties.
%----------------------------------------------------------------------------------------
\DeclareRobustCommand{\eMagTitle}{QL Assembly Language Mailing List}
\DeclareRobustCommand{\eMagIssue}{3}
\DeclareRobustCommand{\eMagLeadingZeros}{00}
\DeclareRobustCommand{\eMagAuthor}{Norman Dunbar}

\hypersetup{
	pdftitle={\eMagTitle~-~\eMagLeadingZeros\eMagIssue},
	pdfauthor={\eMagAuthor},
	pdfsubject={Assembly Language Programming on your Sinclair QL}
}


\begin{document}


%----------------------------------------------------------------------------------------
%	TITLE PAGE
%----------------------------------------------------------------------------------------

\begingroup
\thispagestyle{empty}
\begin{tikzpicture}[remember picture,overlay]
\coordinate [below=12cm] (midpoint) at (current page.north);
\node at (current page.north west)
{\begin{tikzpicture}[remember picture,overlay]
\node[anchor=north west,inner sep=0pt] at (0,0) {\includegraphics[width=\paperwidth]{background.pdf}}; % Background image
\draw[anchor=north] (midpoint) node [fill=ocre!30!white,fill opacity=0.6,text opacity=1,inner sep=1cm]{\Huge\centering\bfseries\sffamily\parbox[c][][t]{\paperwidth}{\centering \eMagTitle\\[15pt] % Book title
{\Large Issue~\eMagIssue}\\[20pt] % Subtitle
{\huge \eMagAuthor}}}; % Author name
\end{tikzpicture}};
\end{tikzpicture}
\vfill
\endgroup

%----------------------------------------------------------------------------------------
%	COPYRIGHT PAGE
%----------------------------------------------------------------------------------------

\newpage
~\vfill
\thispagestyle{empty}

\noindent Copyright \copyright 2015 Norman Dunbar\\ % Copyright notice

\noindent \textsc{Published by MeMyselfEye Publishing ;-)}\\ % Publisher

\noindent \url{http://qdosmsq.dunbar-it.co.uk/downloads/AssemblyLanguage/Issue\_003/Assembly\_Language\_003.pdf}\\ % Download URL

\noindent Licensed under the Creative Commons Attribution-NonCommercial 3.0 Unported License (the ``License''). You may not use this file except in compliance with the License. You may obtain a copy of the License at \url{http://creativecommons.org/licenses/by-nc/3.0}. Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \textsc{``as is'' basis, without warranties or conditions of any kind}, either express or implied. See the License for the specific language governing permissions and limitations under the License.\\ % License information

%\noindent \textit{First printing, October 2015} \\% Printing/edition date


\noindent This pdf document was created on \textit{\pdfcreationdate}.

%----------------------------------------------------------------------------------------
%	TABLE OF CONTENTS
%----------------------------------------------------------------------------------------

\chapterimage{chapter_head_1.pdf} % Table of contents heading image

\pagestyle{empty} % No headers


\tableofcontents % Print the table of contents itself
\listoftables
\listoffigures
\lstlistoflistings

\cleardoublepage % Forces the first chapter to start on an odd page so it's on the right

\pagestyle{fancy} % Print headers again

%----------------------------------------------------------------------------------------
%Here come the contents of the book...
%----------------------------------------------------------------------------------------

\input{includeContents}

%----------------------------------------------------------------------------------------
%	BIBLIOGRAPHY - NOT REQUIRED
%----------------------------------------------------------------------------------------

%\chapter*{Bibliography}
%\addcontentsline{toc}{chapter}{\textcolor{ocre}{Bibliography}}
%\section*{Books}
%\addcontentsline{toc}{section}{Books}
%\printbibliography[heading=bibempty,type=book]
%\section*{Articles}
%\addcontentsline{toc}{section}{Articles}
%\printbibliography[heading=bibempty,type=article]

%----------------------------------------------------------------------------------------
%	INDEX
%
% To make an index in MikeTex:
%
% Compile main file with pdfLaTeX.
% Compile main file with makeIndex.
% Compile main file with pdfLaTeX again.
%
% This is useful, in the preamble:
%
% \DeclareRobustCommand{\ship}[1]{\textit{#1}\index{Steam ships!#1}}
% \DeclareRobustCommand{\AUports}[1]{\texttt{#1}\index{Austalia ports!#1}}
%
% Then just use \ship{ship_name} to index the ship name, under "ships" and
% to italicise it, as per Oxford Style Guide for shihp names.
% Australian Ports gets TeleType font in the main text.
%----------------------------------------------------------------------------------------

\cleardoublepage
\phantomsection
\setlength{\columnsep}{0.75cm}
\addcontentsline{toc}{chapter}{\textcolor{ocre}{Index}}
\printindex

%----------------------------------------------------------------------------------------

\end{document}
